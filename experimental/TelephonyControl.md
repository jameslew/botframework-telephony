# Controlling Telephony and speech specific behavior
To allow speech specific functionality, the botframework SDK has extended existing APIs and implemented a new one for recording.

## DTMF input

DTMF input is passed to the bot in the `Text` field of the activity object. Possible DTMF characters are digits from `0` to `9`, `*` (star) and `#` (pound). DTMF input is not localized.

Activities generated by speech and the telephone keypad are not combined. For example, saying 'fourty' and pressing &#9313; on the keypad will result in two separate activities.

It is sometimes necessary to distinguish voice from DTMF input, i.e. whether the user spoke an utterance or pressed it on the telephone keypad. 

An activity that was generated by the telephone keypad can be recognized by the presence of the DTMF entity attached to its `Entities` list. 

Example:

```csharp
protected override async Task OnMessageActivityAsync(ITurnContext<IMessageActivity> turnContext, CancellationToken cancellationToken)
{
    string response;
    if (turnContext.Activity.Entities.Any(entity => entity.Type == "DTMF"))
    {
        response = $"You have pressed DTMF button(s) {turnContext.Activity.Text}";
    }
    else
    {
        response = $"You have said {turnContext.Activity.Text}";
    }
}
```
_Note:_ In the Public Preview release, every individual key press is sent to the bot as a separate activity. The ability to "batch" multiple DTMF signals in a single activity will be added in the GA release.
